<ion-header>
    <ion-navbar>
        <button ion-button menuToggle *ngIf="!isSearchbaropened">
            <ion-icon name="menu"></ion-icon>
        </button>
        <ion-title *ngIf="!isSearchbaropened" class="algemeenText">Algemeen</ion-title>
        <!-- Searchbar  -->
        <ion-searchbar #searchbar *ngIf="isSearchbaropened" [showCancelButton]="true" (ionCancel)="resetChanges()"
                       (ionInput)="search($event)" placeholder="Waar zijn we naar op zoek?"
                       class="slideInRight"></ion-searchbar>
        <!-- Searchbar icon -->
        <ion-buttons end
                     *ngIf="this.datepicker == 'vandaag' || this.datepicker == 'gisteren' || this.datepicker == 'driedagengeleden'">
            <button ion-button icon-only (click)="isSearchbaropened=true">
                <ion-icon name="search" *ngIf="!isSearchbaropened"></ion-icon>
            </button>
        </ion-buttons>
        <ion-buttons end *ngIf="this.datepicker == 'HetWeer'">
            <button ion-button icon-only (click)="goLijstWeerPage()">
                <ion-icon name="search"></ion-icon>
            </button>
        </ion-buttons>
        <ion-buttons end *ngIf="!isSearchbaropened" class="moreFeed">
            <ion-icon name="more"></ion-icon>
            <ion-list class="listMore">
                <ion-select #newSelect [(ngModel)]="datepicker" (ionChange)="onChange(datepicker)"
                            [selectOptions]="selectOptions" cancelText="Annuleer" okText="Ok" class="SelectMore">
                    <ion-option value="vandaag">Vandaag</ion-option>
                    <ion-option value="gisteren">Gisteren</ion-option>
                    <ion-option value="driedagengeleden">Drie dagen geleden</ion-option>
                    <!--<ion-option value="HetWeer">Het weer</ion-option>-->
                </ion-select>
            </ion-list>
        </ion-buttons>
    </ion-navbar>
</ion-header>
<ion-content>
    <!-- Swipe up refresher  -->
    <ion-refresher (ionRefresh)="doRefresh($event)">
        <ion-refresher-content pullingIcon="arrow-dropdown"
                               pullingText="Sleep omlaag om te verversen"></ion-refresher-content>
    </ion-refresher>
    <!-- Grid -->
    <ion-grid *ngIf="datepicker == 'vandaag' || datepicker == 'gisteren' || datepicker == 'driedagengeleden'"
              class="feedGrid">
        <ion-col>
            <ion-row>
                <ion-card *ngFor="let item of items" col-md-6 class="ionCard">
                    <!-- Images van nieuwsfeed -->
                    <div class="ion-card-image-wrapper" (click)="viewEntry({ record: item })">
                        <img *ngIf="!item.image" src="../assets/imgs/noimage.jpg">
                        <img [src]="item.image" *ngIf="item.site == 'NOS.nl'">
                        <img [src]="item.image" *ngIf="item.site != 'NOS.nl' || item.site != 'NU.nl'">
                    </div>
                    <ion-card-content>
                        <!-- Avatar -->
                        <div id="AvatarFeed" (click)="viewEntry({ record: item })">
                            <ion-avatar *ngIf="item.site == 'NOS' && currentTheme == 'light-theme'" class="avatar"
                                        item-start>
                                <img src="../assets/svg/NOS_logo.svg" class="avatar-feedNOS"/>
                            </ion-avatar>
                            <ion-avatar *ngIf="item.site == 'NOS' && currentTheme == 'dark-theme'" class="avatar"
                                        item-start>
                                <img src="../assets/svg/NOS_logo_Wit.svg" class="avatar-feedNOS"/>
                            </ion-avatar>
                            <ion-avatar *ngIf="item.site == 'NU.nl'" class="avatar" item-start>
                                <img src="../assets/svg/nu.nl.svg" class="avatar-feed"/>
                            </ion-avatar>
                            <ion-avatar *ngIf="item.site == 'De Telegraaf' && currentTheme == 'light-theme'"
                                        class="avatar" item-start>
                                <img src="../assets/svg/Telegraaf.svg" class="avatar-feedTelegraaf"/>
                            </ion-avatar>
                            <ion-avatar *ngIf="item.site == 'De Telegraaf' && currentTheme == 'dark-theme'"
                                        class="avatar" item-start>
                                <img src="../assets/svg/Telegraaf_Wit.svg" class="avatar-feedTelegraaf"/>
                            </ion-avatar>
                        </div>
                        <!-- Uitgever -->
                        <div id="uitgeverFeed" (click)="viewEntry({ record: item })">
                            <div class="uitgeverFeed" *ngIf="item.site == 'De Telegraaf' || item.site == 'NOS'">{{item.site}}</div>
                            <div class="uitgeverFeedNU" *ngIf="item.site == 'NU.nl'">{{item.site}}</div>
                            <!-- Title  -->
                            <div id="title">
                                <ion-card-title class="TitleFeed">
                                    <strong>{{item.title}}</strong>
                                </ion-card-title>
                            </div>
                            <!-- description  -->
                            <div id="description">
                                <p class="descriptionFeed">{{htmlToPlaintext(item.description) |
                                    slice:0:120}}...</p>
                            </div>
                            <!-- Datum -->
                            <div id="datumFeed" class="datumFeed">
                                <span>{{item.datum}}</span>
                            </div>
                        </div>
                        <!-- Social Buttons - Comments - likes - Share -->
                        <div id="socialLikeComments" class="socialLikeComments">
                            <button ion-button icon-start clear *ngIf="item.site == 'De Telegraaf' && rol == 1"
                                    class="socialTelegraafShare" (click)="showConfirmHide(item.id)">
                                <ion-icon name="trash"></ion-icon>
                            </button>
                            <button ion-button icon-start clear *ngIf="item.site == 'NOS' && rol == 1"
                                    class="socialNOSShare" (click)="showConfirmHide(item.id)">
                                <ion-icon name="trash"></ion-icon>
                            </button>
                            <button ion-button icon-start clear *ngIf="item.site == 'NU.nl' && rol == 1"
                                    class="socialNuShare" (click)="showConfirmHide(item.id)">
                                <ion-icon name="trash"></ion-icon>
                            </button>
                            <button ion-button icon-start clear *ngIf="item.site == 'De Telegraaf'"
                                    class="socialTelegraafShare"
                                    (click)="shareInfo(item.title, item.image, item.link)">
                                <ion-icon name="share-alt"></ion-icon>
                            </button>
                            <button ion-button icon-start clear *ngIf="item.site == 'NOS'" class="socialNOSShare"
                                    (click)="shareInfo(item.title, item.image, item.link)">
                                <ion-icon name="share-alt"></ion-icon>
                            </button>
                            <button ion-button icon-start clear *ngIf="item.site == 'NU.nl'" class="socialNuShare"
                                    (click)="shareInfo(item.title, item.image, item.link)">
                                <ion-icon name="share-alt"></ion-icon>
                            </button>
                            <button class="socialTelegraaf" ion-button icon-start clear
                                    *ngIf="item.site == 'De Telegraaf' && item.liked == 0" [disabled]="disabled"
                                    (click)="setLike(item.id)">
                                <ion-icon name="heart-outline" class="darkHeartOutline"></ion-icon>
                                <div>{{item.likes}}</div>
                            </button>
                            <button class="socialNOS" ion-button icon-start clear
                                    *ngIf="item.site == 'NOS' && item.liked == 0" [disabled]="disabled"
                                    (click)="setLike(item.id)">
                                <ion-icon name="heart-outline" class="darkHeartOutline"></ion-icon>
                                <div>{{item.likes}}</div>
                            </button>
                            <button class="socialNu" ion-button icon-start clear
                                    *ngIf="item.site == 'NU.nl' && item.liked == 0" [disabled]="disabled"
                                    (click)="setLike(item.id)">
                                <ion-icon name="heart-outline" class="darkHeartOutline"></ion-icon>
                                <div>{{item.likes}}</div>
                            </button>
                            <button ion-button icon-start clear *ngIf="item.site == 'De Telegraaf'"
                                    class="socialTelegraaf" (click)="viewComments({ record: item })">
                                <ion-icon name="chatbubbles" class="darkChatTelegraaf"></ion-icon>
                                <div>{{item.comments}}</div>
                            </button>
                            <button ion-button icon-start clear *ngIf="item.site == 'NOS'" class="socialNOS"
                                    (click)="viewComments({ record: item })">
                                <ion-icon name="chatbubbles" class="darkChatNOS"></ion-icon>
                                <div>{{item.comments}}</div>
                            </button>
                            <button ion-button icon-start clear *ngIf="item.site == 'NU.nl'" class="socialNu"
                                    (click)="viewComments({ record: item })">
                                <ion-icon name="chatbubbles" class="darkChatNU"></ion-icon>
                                <div>{{item.comments}}</div>
                            </button>
                            <button class="socialTelegraaf" ion-button icon-start clear
                                    *ngIf="item.site == 'De Telegraaf' && item.liked == 1"
                                    (click)="dislike(item.id, item.title)">
                                <ion-icon name="heart" class="darkHeartFull"></ion-icon>
                                <div>{{item.likes}}</div>
                            </button>
                            <button class="socialNOS" ion-button icon-start clear
                                    *ngIf="item.site == 'NOS' && item.liked == 1"
                                    (click)="dislike(item.id, item.title)">
                                <ion-icon name="heart" class="darkHeartFull"></ion-icon>
                                <div>{{item.likes}}</div>
                            </button>
                            <button class="socialNu" ion-button icon-start clear
                                    *ngIf="item.site == 'NU.nl' && item.liked == 1"
                                    (click)="dislike(item.id, item.title)">
                                <ion-icon name="heart" class="darkHeartFull"></ion-icon>
                                <div>{{item.likes}}</div>
                            </button>
                        </div>
                    </ion-card-content>
                </ion-card>
            </ion-row>
        </ion-col>
    </ion-grid>
    <ion-grid *ngIf="datepicker == 'HetWeer'">
        <ion-col col-12>
            <ion-row>
                <ion-list>
                    <ion-card class="weerCard">
                        <div class="alignCenterWeer">
                            <img *ngIf="dag1Weather12uur == 'light rain'" src="../assets/imgs/Weer/lichtBewolkt.png"
                                 alt="Zon">
                            <img *ngIf="dag1Weather12uur == 'clear sky'" src="../assets/imgs/Weer/clearSky.png"
                                 alt="Zon">
                            <img *ngIf="dag1Weather12uur == 'few clouds'" src="../assets/imgs/Weer/lichtBewolkt.png"
                                 alt="Bewolkt">
                            <img *ngIf="dag1Weather12uur == 'broken clouds'" src="../assets/imgs/Weer/lichtBewolkt.png"
                                 alt="Bewolkt">
                            <img *ngIf="dag1Weather12uur == 'scattered clouds'"
                                 src="../assets/imgs/Weer/zwaarBewolktMiddag.png" alt="Bewolkt">
                            <img *ngIf="dag1Weather12uur == 'moderate rain'"
                                 src="../assets/imgs/Weer/zwaarBewolktMiddag.png" alt="Bewolkt">
                        </div>
                        <ion-card-content class="cardContentWeer">
                            <!--Segmenten -->
                            <ion-segment [(ngModel)]="weerSegment" color="darkAppKleur" class="weerSegmentZon">
                                <ion-segment-button value="weerVandaag" id="weerVandaag" class="weatherLight">
                                    <p class="segmentWeerVandaag">Vandaag</p>
                                </ion-segment-button>
                                <ion-segment-button value="weerWeek" id="weerWeek">
                                    <p class="segmentWeerWeek">Week</p>
                                </ion-segment-button>
                            </ion-segment>
                            <!-- Vandaag -->
                            <div *ngIf="this.weerSegment == 'weerVandaag'">
                                <ion-row class="rowWeer">
                                    <!-- 12:00-->
                                    <button ion-item detail-none *ngIf="open" (click)="open=false">
                                        <div class="buttonTijd">
                                            <ion-icon item-left name="arrow-dropright"></ion-icon>
                                            <span class="tijdWeer">{{this.dag1DatumTijd12uur}}</span>
                                        </div>
                                        <div class="gradenDiv">
                                            <div class="graden">{{this.dag1NaarCelcius12uurMathRound}}° C</div>
                                        </div>
                                    </button>
                                    <button ion-item detail-none *ngIf="!open" (click)="open=true">
                                        <div class="buttonTijd">
                                            <ion-icon item-left name="arrow-dropdown"></ion-icon>
                                            <span class="tijdWeer">{{this.dag1DatumTijd12uur}}</span>
                                        </div>
                                        <div class="gradenDiv">
                                            <div class="graden">{{this.dag1NaarCelcius12uurMathRound}}° C</div>
                                        </div>
                                    </button>
                                    <!-- Uitklap -->
                                    <div id="uitklap" class="uitklapMargin">
                                        <ul *ngIf="!open" (click)="open=true" class="uitklapWeer">
                                            <li class="spanClasses">Luchtvochtigheid</li>
                                            <li class="spanClasses">Wind</li>
                                            <li class="spanClasses">Weer</li>
                                        </ul>
                                        <ul *ngIf="!open" (click)="open=true" class="uitklapWeerAntwoorden">
                                            <li>
                                                <ion-badge class="badgeClasses">{{this.dag1Weather12uurHumidity}}%
                                                </ion-badge>
                                            </li>
                                            <li>
                                                <ion-badge class="badgeClasses">{{this.windNaarKm12uurDag1MathRound}}
                                                    km/u
                                                </ion-badge>
                                            </li>
                                            <li>

                                                <ion-badge *ngIf="dag1Weather12uur == 'moderate rain'"
                                                           class="badgeClasses">Lichte regenbui
                                                </ion-badge>
                                                <ion-badge *ngIf="dag1Weather12uur == 'light rain'"
                                                           class="badgeClasses">Lichte regenbui
                                                </ion-badge>
                                                <ion-badge *ngIf="dag1Weather12uur == 'clear sky'" class="badgeClasses">
                                                    Heldere lucht
                                                </ion-badge>
                                                <ion-badge *ngIf="dag1Weather12uur == 'few clouds'"
                                                           class="badgeClasses">Gedeeltelijk <br><span
                                                        class="bewolktSpan">bewolkt</span></ion-badge>
                                                <ion-badge *ngIf="dag1Weather12uur == 'broken clouds'"
                                                           class="badgeClasses">Gedeeltelijk <br><span
                                                        class="bewolktSpan">bewolkt</span></ion-badge>
                                                <ion-badge *ngIf="dag1Weather12uur == 'scattered clouds'"
                                                           class="badgeClasses">Verspreide <br><span
                                                        class="bewolktSpan">bewolking</span></ion-badge>
                                            </li>
                                        </ul>
                                    </div>
                                    <!-- 15:00-->
                                    <button ion-item detail-none *ngIf="open2" (click)="open2=false">
                                        <div class="buttonTijd">
                                            <ion-icon item-left name="arrow-dropright"></ion-icon>
                                            <span class="tijdWeer">{{this.dag1DatumTijd15uur}}</span>
                                        </div>
                                        <div class="gradenDiv">
                                            <div class="graden">{{this.dag1NaarCelcius15uurMathRound}}° C</div>
                                        </div>
                                    </button>
                                    <button ion-item detail-none *ngIf="!open2" (click)="open2=true">
                                        <div class="buttonTijd">
                                            <ion-icon item-left name="arrow-dropdown"></ion-icon>
                                            <span class="tijdWeer">{{this.dag1DatumTijd15uur}}</span>
                                        </div>
                                        <div class="gradenDiv">
                                            <div class="graden">{{this.dag1NaarCelcius15uurMathRound}}° C</div>
                                        </div>
                                    </button>
                                    <!-- Uitklap -->
                                    <div id="uitklap2" class="uitklapMargin">
                                        <ul *ngIf="!open2" (click)="open2=true" class="uitklapWeer">
                                            <li class="spanClasses">Luchtvochtigheid</li>
                                            <li class="spanClasses">Wind</li>
                                            <li class="spanClasses">Weer</li>
                                        </ul>
                                        <ul *ngIf="!open2" (click)="open2=true" class="uitklapWeerAntwoorden">
                                            <li>
                                                <ion-badge class="badgeClasses">{{this.dag1Weather15uurHumidity}}%
                                                </ion-badge>
                                            </li>
                                            <li>
                                                <ion-badge class="badgeClasses">{{this.windNaarKm15uurDag1MathRound}}
                                                    km/u
                                                </ion-badge>
                                            </li>
                                            <li>
                                                <ion-badge *ngIf="dag1Weather15uur == 'moderate rain'"
                                                           class="badgeClasses">Lichte regenbui
                                                </ion-badge>
                                                <ion-badge *ngIf="dag1Weather15uur == 'light rain'"
                                                           class="badgeClasses">Lichte regenbui
                                                </ion-badge>
                                                <ion-badge *ngIf="dag1Weather15uur == 'clear sky'" class="badgeClasses">
                                                    Heldere lucht
                                                </ion-badge>
                                                <ion-badge *ngIf="dag1Weather15uur == 'few clouds'"
                                                           class="badgeClasses">Gedeeltelijk <br><span
                                                        class="bewolktSpan">bewolkt</span></ion-badge>
                                                <ion-badge *ngIf="dag1Weather15uur == 'broken clouds'"
                                                           class="badgeClasses">Gedeeltelijk <br><span
                                                        class="bewolktSpan">bewolkt</span></ion-badge>
                                                <ion-badge *ngIf="dag1Weather15uur == 'scattered clouds'"
                                                           class="badgeClasses">Verspreide <br><span
                                                        class="bewolktSpan">bewolking</span></ion-badge>
                                            </li>
                                        </ul>
                                    </div>
                                    <!-- 18:00-->
                                    <button ion-item detail-none *ngIf="open3" (click)="open3=false">
                                        <div class="buttonTijd">
                                            <ion-icon item-left name="arrow-dropright"></ion-icon>
                                            <span class="tijdWeer">{{this.dag1DatumTijd18uur}}</span>
                                        </div>
                                        <div class="gradenDiv">
                                            <div class="graden">{{this.dag1NaarCelcius18uurMathRound}}° C</div>
                                        </div>
                                    </button>
                                    <button ion-item detail-none *ngIf="!open3" (click)="open3=true">
                                        <div class="buttonTijd">
                                            <ion-icon item-left name="arrow-dropdown"></ion-icon>
                                            <span class="tijdWeer">{{this.dag1DatumTijd18uur}}</span>
                                        </div>
                                        <div class="gradenDiv">
                                            <div class="graden">{{this.dag1NaarCelcius18uurMathRound}}° C</div>
                                        </div>
                                    </button>
                                    <!-- Uitklap -->
                                    <div id="uitklap3" class="uitklapMargin">
                                        <ul *ngIf="!open3" (click)="open3=true" class="uitklapWeer">
                                            <li class="spanClasses">Luchtvochtigheid</li>
                                            <li class="spanClasses">Wind</li>
                                            <li class="spanClasses">Weer</li>
                                        </ul>
                                        <ul *ngIf="!open3" (click)="open3=true" class="uitklapWeerAntwoorden">
                                            <li>
                                                <ion-badge class="badgeClasses">{{this.dag1Weather18uurHumidity}}%
                                                </ion-badge>
                                            </li>
                                            <li>
                                                <ion-badge class="badgeClasses">{{this.windNaarKm18uurDag1MathRound}}
                                                    km/u
                                                </ion-badge>
                                            </li>
                                            <li>
                                                <ion-badge *ngIf="dag1Weather18uur == 'moderate rain'"
                                                           class="badgeClasses">Lichte regenbui
                                                </ion-badge>
                                                <ion-badge *ngIf="dag1Weather18uur == 'light rain'"
                                                           class="badgeClasses">Lichte regenbui
                                                </ion-badge>
                                                <ion-badge *ngIf="dag1Weather18uur == 'clear sky'" class="badgeClasses">
                                                    Heldere lucht
                                                </ion-badge>
                                                <ion-badge *ngIf="dag1Weather18uur == 'few clouds'"
                                                           class="badgeClasses">Gedeeltelijk <br><span
                                                        class="bewolktSpan">bewolkt</span></ion-badge>
                                                <ion-badge *ngIf="dag1Weather18uur == 'broken clouds'"
                                                           class="badgeClasses">Gedeeltelijk <br><span
                                                        class="bewolktSpan">bewolkt</span></ion-badge>
                                                <ion-badge *ngIf="dag1Weather18uur == 'scattered clouds'"
                                                           class="badgeClasses">Verspreide <br><span
                                                        class="bewolktSpan">bewolking</span></ion-badge>
                                            </li>
                                        </ul>
                                    </div>
                                    <!-- 21:00-->
                                    <button ion-item detail-none *ngIf="open4" (click)="open4=false">
                                        <div class="buttonTijd">
                                            <ion-icon item-left name="arrow-dropright"></ion-icon>
                                            <span class="tijdWeer">{{this.dag1DatumTijd21uur}}</span>
                                        </div>
                                        <div class="gradenDiv">
                                            <div class="graden">{{this.dag1NaarCelcius21uurMathRound}}° C</div>
                                        </div>
                                    </button>
                                    <button ion-item detail-none *ngIf="!open4" (click)="open4=true">
                                        <div class="buttonTijd">
                                            <ion-icon item-left name="arrow-dropdown"></ion-icon>
                                            <span class="tijdWeer">{{this.dag1DatumTijd21uur}}</span>
                                        </div>
                                        <div class="gradenDiv">
                                            <div class="graden">{{this.dag1NaarCelcius21uurMathRound}}° C</div>
                                        </div>
                                    </button>
                                    <!-- Uitklap -->
                                    <div id="uitklap4" class="uitklapMargin">
                                        <ul *ngIf="!open4" (click)="open4=true" class="uitklapWeer">
                                            <li class="spanClasses">Luchtvochtigheid</li>
                                            <li class="spanClasses">Wind</li>
                                            <li class="spanClasses">Weer</li>
                                        </ul>
                                        <ul *ngIf="!open4" (click)="open4=true" class="uitklapWeerAntwoorden">
                                            <li>
                                                <ion-badge class="badgeClasses">{{this.dag1Weather21uurHumidity}}%
                                                </ion-badge>
                                            </li>
                                            <li>
                                                <ion-badge class="badgeClasses">{{this.windNaarKm21uurDag1MathRound}}
                                                    km/u
                                                </ion-badge>
                                            </li>
                                            <li>
                                                <ion-badge *ngIf="dag1Weather21uur == 'light rain'"
                                                           class="badgeClasses">Lichte regenbui
                                                </ion-badge>
                                                <ion-badge *ngIf="dag1Weather21uur == 'clear sky'" class="badgeClasses">
                                                    Heldere lucht
                                                </ion-badge>
                                                <ion-badge *ngIf="dag1Weather21uur == 'moderate rain'"
                                                           class="badgeClasses">Lichte regenbui
                                                </ion-badge>
                                                <ion-badge *ngIf="dag1Weather21uur == 'few clouds'"
                                                           class="badgeClasses">Gedeeltelijk <br><span
                                                        class="bewolktSpan">bewolkt</span></ion-badge>
                                                <ion-badge *ngIf="dag1Weather21uur == 'broken clouds'"
                                                           class="badgeClasses">Gedeeltelijk <br><span
                                                        class="bewolktSpan">bewolkt</span></ion-badge>
                                                <ion-badge *ngIf="dag1Weather21uur == 'scattered clouds'"
                                                           class="badgeClasses">Verspreide <br><span
                                                        class="bewolktSpan">bewolking</span></ion-badge>
                                            </li>
                                        </ul>
                                    </div>
                                </ion-row>
                            </div>
                            <!-- Hele Week -->
                            <div *ngIf="this.weerSegment == 'weerWeek'">
                                <ion-row class="rowWeer">
                                    <button ion-item detail-none *ngIf="open" (click)="open=false">
                                        <ion-icon item-left name="arrow-dropright"></ion-icon>
                                        Test
                                    </button>
                                    <button ion-item detail-none *ngIf="!open" (click)="open=true">
                                        <ion-icon item-left name="arrow-dropdown"></ion-icon>
                                        Test
                                    </button>
                                </ion-row>
                            </div>
                        </ion-card-content>
                    </ion-card>
                </ion-list>
            </ion-row>
        </ion-col>
    </ion-grid>
</ion-content>

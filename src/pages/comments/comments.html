<ion-header>
    <ion-navbar #navbar>
        <ion-title class="fakePadding">Comments</ion-title>
    </ion-navbar>
</ion-header>
<ion-content>
    <ion-list *ngFor="let comment of comments; let last = last" class="commentSpacing">
        <ion-item-sliding>
            <ion-item>
                {{last ? callFunction() : ''}}
                <ion-avatar class="avatar" item-start>
                    <img src="{{comment.profilepicture}}" class="avatar-profiel"/>
                </ion-avatar>
                <p class="commentUsername">{{comment.username}}<span class="commentDate">{{comment.commentDate}}</span>
                </p>
                <p><span class="breakText">{{comment.comment}}</span></p>
            </ion-item>
            <ion-item-options side="right">
                <button ion-button color="secondary">
                    <ion-icon name="create"></ion-icon>
                    Bewerk
                </button>
                <button ion-button color="danger" item-right *ngIf="userId == comment.userCommentID || userRol == 1"
                        (click)="deleteComment(comment.commentId)">
                    <ion-icon name="trash"></ion-icon>
                    Verwijder
                </button>
            </ion-item-options>
        </ion-item-sliding>
    </ion-list>
</ion-content>
<ion-footer>
    <ion-list>
        <ion-item>
            <ion-avatar class="avatar" item-start>
                <img src="{{pictureprofile}}" class="avatar-profiel"/>
            </ion-avatar>
            <ion-input placeholder="Reageer als {{this.username}}" [(ngModel)]="comment" id="inputMessage"
                       #input></ion-input>
            <button ion-button class="sendButton" id="sendButtonId" (click)="postComment()" item-end
                    [disabled]="!comment">
                <ion-icon name="send"></ion-icon>
            </button>
        </ion-item>
    </ion-list>
</ion-footer>
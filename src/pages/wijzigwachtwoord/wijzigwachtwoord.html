<ion-header>
  <ion-navbar>
    <ion-title class="wachtwoordWijzigenPadding">Wachtwoord Wijzigen</ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="updateWachtwoord()">
        <ion-icon name="checkmark"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>
<ion-content>
  <form novalidate [formGroup]="form">
    <div class="form-group">
      <ion-item [ngClass]="{ 'ng-touched' : form.get('oldpassword').touched }">
        <ion-label stacked>Oud Wachtwoord</ion-label>
        <ion-input type="password" formControlName="oldpassword" class="form-control" [(ngModel)]="oldpassword"></ion-input>
      </ion-item>
    </div>
    <div class="alert alert-danger" *ngIf="form.get('oldpassword').touched && form.get('oldpassword').invalid || valMessage == 'No matching password'">
      <div class="validatieText" *ngIf="form.get('oldpassword').hasError('required')">Wachtwoord moet ingevuld zijn</div>
      <div class="validatieText" *ngIf="form.get('oldpassword').hasError('minLength')">Wachtwoord moet minimaal 8 tekens lang zijn</div>
      <div class="validatieText" *ngIf="form.get('oldpassword').hasError('pattern')">Wachtwoord moet minstens een hoofdletter, een kleine letter en een cijfer bevatten</div>
    </div>
    <div class="alert alert-danger" *ngIf="valMessage == 'No matching password'">
      <div class="validatieText">Wachtwoord is niet hetzelfde</div>
    </div>
    <div class="form-group">
      <ion-item [ngClass]="{ 'ng-touched' : form.get('password').touched }">
        <ion-label stacked>Nieuwe Wachtwoord</ion-label>
        <ion-input type="password" formControlName="password" class="form-control" [(ngModel)]="password"></ion-input>
      </ion-item>
    </div>
    <div class="alert alert-danger" *ngIf="form.get('password').touched && form.get('password').invalid">
      <div class="validatieText" *ngIf="form.get('password').hasError('required')">Wachtwoord moet ingevuld zijn</div>
      <div class="validatieText" *ngIf="form.get('password').hasError('minLength')">Wachtwoord moet minimaal 8 tekens lang zijn</div>
      <div class="validatieText" *ngIf="form.get('password').hasError('pattern')">Wachtwoord moet minstens een hoofdletter, een kleine letter en een cijfer bevatten</div>
    </div>
    <div class="form-group">
      <ion-item [ngClass]="{ 'ng-touched' : form.get('password2').touched }">
        <ion-label stacked>Herhaal Nieuw Wachtwoord</ion-label>
        <ion-input type="password" formControlName="password2" class="form-control" [(ngModel)]="password2"></ion-input>
      </ion-item>
    </div>
    <div class="alert alert-danger" *ngIf="form.get('password2').touched && form.get('password2').invalid || password2 != password">
      <div class="validatieText" *ngIf="form.get('password2').hasError('required')">Wachtwoord moet ingevuld zijn</div>
      <div class="validatieText" *ngIf="form.get('password2').hasError('minLength')">Wachtwoord moet minimaal 8 tekens lang zijn</div>
      <div class="validatieText" *ngIf="form.get('password2').hasError('pattern')">Wachtwoord moet minstens een hoofdletter, een kleine letter en een cijfer bevatten</div>
    </div>
  </form>
</ion-content>
